{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from \"axios\";\nconst KEY = \"53364959-970251902b7523d6caf21016a\";\n\n// const URL = \"https://pixabay.com/api/\";\n\n// const defaultParamas = {\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n// }\n\nexport function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        }\n    }).then(response => response.data);\n};\n// .then(response => new Promise(res => setTimeout(() => res(response.data), 800)));","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\")\n\nconst loaderContainer = document.querySelector(\".loader-container\")\n\nconst lightBox = new SimpleLightbox(\".gallery a\", {\n  captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    nav: true,\n    navText: ['←', '→'],\n    animationSpeed: 500,\n    loop: false\n});\n\nexport function createGallery(images) {\n\n  let markup = \"\";\n\n  for (const image of images) {\n\n    const {\n      webformatURL, largeImageURL, tags, likes, views, comments, downloads\n    } = image;\n\n      markup += `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\" ${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n        </a>\n      <ul class=\"gallery-info\">\n        <li class=\"gallery-info-item\">\n          <span>Likes</span>\n          ${likes}\n        </li>\n        <li class=\"gallery-info-item\">\n          <span>Views</span>\n          ${views}\n        </li>\n        <li class=\"gallery-info-item\">\n          <span>Comments</span>\n          ${comments}\n        </li>\n        <li class=\"gallery-info-item\">\n          <span>Downloads</span>\n          ${downloads}\n        </li>\n      </ul>\n    </li>`;\n  };\n\n  galleryList.insertAdjacentHTML(\"afterbegin\", markup);\n  lightBox.refresh();\n};\n\nexport function clearGallery() {\n  galleryList.innerHTML = \"\";\n};\n\nexport function showLoader() {\n  loaderContainer.classList.remove('is-hidden');\n};\n\nexport function hideLoader() {\n  loaderContainer.classList.add('is-hidden');\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery} from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector('[name = \"search-text\"]');\n// const input = form.elements[\"search-text\"];\n\nform.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(e) {\n    e.preventDefault();\n    const query = input.value.trim();\n    if (!query) {\n        iziToast.warning({\n            title: 'Warning!',\n            message: 'Please enter a search request!',\n            position: 'topRight',\n        });\n        return;\n    }\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query).then(data => {\n        hideLoader();\n        if (!data.hits || data.hits.length === 0) {\n            iziToast.info({\n                title: 'Attention!',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            return;\n        }\n        createGallery(data.hits);\n    }).catch(() => {\n        hideLoader();\n        iziToast.error({\n            message: 'Something went wrong! Please try again later!',\n            position: 'topRight',\n            color: '#EF4040',\n            messageColor: '#FAFAFB',\n            iconText: '',\n            iconUrl: './img/error-icon.svg',\n            iconColor: '#FAFAFB',\n        });\n    })\n    form.reset();\n}\n"],"names":["KEY","getImagesByQuery","query","axios","response","galleryList","loaderContainer","lightBox","SimpleLightbox","createGallery","images","markup","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","onSearchFormSubmit","e","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAM,qCAUL,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACJ,CAAA,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACrC,CCnBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAkB,SAAS,cAAc,mBAAmB,EAE5DC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACZ,gBAAiB,SACjB,aAAc,IACd,IAAK,GACL,QAAS,CAAC,IAAK,GAAG,EAClB,eAAgB,IAChB,KAAM,EACV,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAEpC,IAAIC,EAAS,GAEb,UAAWC,KAASF,EAAQ,CAE1B,KAAM,CACJ,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAC5D,EAAGP,EAEFD,GAAU;AAAA,yCACyBG,CAAa;AAAA;AAAA;AAAA,mBAGnCD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMXC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILC,CAAK;AAAA;AAAA;AAAA;AAAA,YAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,YAIRC,CAAS;AAAA;AAAA;AAAA,UAKrB,CACEd,EAAY,mBAAmB,aAAcM,CAAM,EACnDJ,EAAS,QAAO,CAClB,CAEO,SAASa,GAAe,CAC7Bf,EAAY,UAAY,EAC1B,CAEO,SAASgB,GAAa,CAC3Bf,EAAgB,UAAU,OAAO,WAAW,CAC9C,CAEO,SAASgB,GAAa,CAC3BhB,EAAgB,UAAU,IAAI,WAAW,CAC3C,CChEA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,wBAAwB,EAG7DD,EAAK,iBAAiB,SAAUE,CAAkB,EAElD,SAASA,EAAmBC,EAAG,CAC3BA,EAAE,eAAc,EAChB,MAAMxB,EAAQsB,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACtB,EAAO,CACRyB,EAAS,QAAQ,CACb,MAAO,WACP,QAAS,iCACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,IACAC,IACApB,EAAiBC,CAAK,EAAE,KAAK0B,GAAQ,CAEjC,GADAN,IACI,CAACM,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCD,EAAS,KAAK,CACV,MAAO,aACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACH,CACDlB,EAAcmB,EAAK,IAAI,CAC/B,CAAK,EAAE,MAAM,IAAM,CACXN,IACAK,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,WACV,MAAO,UACP,aAAc,UACd,SAAU,GACV,QAAS,uBACT,UAAW,SACvB,CAAS,CACT,CAAK,EACDJ,EAAK,MAAK,CACd"}